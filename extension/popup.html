<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Do I Need That?</title>
  <style>
    /* Add this to your popup.html's <style> section */
.product-section {
  background-color: #f8f8f8;
  border-radius: 8px;
  padding: 15px;
  margin: 15px 0;
}

.loading {
  color: #666;
  font-style: italic;
}

.error {
  color: #D32F2F;
}

.supported-sites {
  font-size: 12px;
  color: #666;
  font-style: italic;
  margin-top: 5px;
}

.product-card {
  border: 1px solid #e0e0e0;
  border-radius: 6px;
  padding: 12px;
  background-color: white;
}

.product-title {
  margin-top: 0;
  margin-bottom: 5px;
  font-size: 14px;
  line-height: 1.3;
}

.product-price {
  font-weight: bold;
  font-size: 16px;
  margin-bottom: 10px;
}

.sustainability-score {
  display: flex;
  align-items: center;
  margin: 10px 0;
}

.score-label {
  margin-right: 8px;
}

.score-value {
  font-weight: bold;
}

.score-level {
  font-size: 12px;
  margin-left: 4px;
  text-transform: uppercase;
}

.factors {
  margin: 10px 0;
  padding-left: 20px;
  font-size: 13px;
}

.factors li {
  margin-bottom: 5px;
}

.actions {
  display: flex;
  gap: 10px;
  margin-top: 15px;
}

.action-btn {
  flex: 1;
  padding: 8px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-weight: bold;
  text-align: center;
}

.continue {
  background-color: #e0e0e0;
  color: #424242;
}

.skip {
  background-color: #4CAF50;
  color: white;
}

.alternatives {
  margin-top: 10px;
}

.alternative-item {
  border: 1px solid #e0e0e0;
  border-radius: 6px;
  padding: 10px;
  margin-bottom: 8px;
  background-color: white;
  position: relative;
}

.alt-title {
  font-weight: bold;
  margin-bottom: 5px;
  padding-right: 60px; /* Make room for the View button */
}

.alt-details {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  font-size: 12px;
}

.alt-price {
  font-weight: bold;
}

.alt-source {
  color: #666;
}

.alt-score {
  font-weight: bold;
}

.view-alt-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  padding: 4px 10px;
  background-color: #4CAF50;
  color: white;
  border: none;
  border-radius: 4px;
  text-decoration: none;
  font-size: 12px;
}

.success-message {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.success-content {
  background-color: white;
  border-radius: 8px;
  padding: 20px;
  width: 80%;
  max-width: 300px;
  text-align: center;
}

.success-icon {
  font-size: 40px;
  margin-bottom: 10px;
}
</style>
</head>
<body>
  <h1>Do I Need That?</h1>
  <p>Helping you shop more sustainably.</p>
  
  <div class="stats">
    <h3>Your Impact</h3>
    <div class="stat-item">
      <span>Purchases reconsidered:</span>
      <span id="reconsideredCount">0</span>
    </div>
    <div class="stat-item">
      <span>Money saved:</span>
      <span id="moneySaved">$0</span>
    </div>
    <div class="stat-item">
      <span>CO2 avoided (est.):</span>
      <span id="co2Saved">0 kg</span>
    </div>
  </div>
  
  <div class="settings">
    <h3>Settings</h3>
    <div class="toggle-container">
      <label for="enableExtension" class="settings-label">Enable "Do I Need That?" prompts</label>
      <label class="toggle">
        <input type="checkbox" id="enableExtension" checked aria-label="Enable 'Do I Need That?' prompts">
        <span class="slider"></span>
      </label>
    </div>
    
    <div class="toggle-container">
      <label for="showSecondHand" class="settings-label">Show second-hand alternatives</label>
      <label class="toggle">
        <input type="checkbox" id="showSecondHand" checked aria-label="Show second-hand alternatives">
        <span class="slider"></span>
      </label>
    </div>
    
    <div class="toggle-container">
      <label for="showSustainable" class="settings-label">Show sustainable brand alternatives</label>
      <label class="toggle">
        <input type="checkbox" id="showSustainable" checked aria-label="Show sustainable brand alternatives">
        <span class="slider"></span>
      </label>
    </div>
  </div>
  
  <div class="footer">
    <p>Supporting UN SDG #12: Responsible Consumption</p>
  </div>
  
  <div class="overlay" id="confirmationOverlay">
    <div class="confirmation-popup">
      <h3>Are you sure you want to purchase this?</h3>
      <div class="confirmation-buttons">
        <button class="yes" id="confirmYes">Yes</button>
        <button class="no" id="confirmNo">No</button>
      </div>
    </div>
  </div>
  
  <script src="popup.js"></script>
  <script>
    document.getElementById('enableExtension').addEventListener('change', function() {
      // Handle toggle logic here
    });

    let reconsideredCount = 0;
    let moneySaved = 0;
    let co2Saved = 0;

    document.getElementById('confirmYes').addEventListener('click', function() {
      reconsideredCount++;
      moneySaved += 20; // Example savings
      co2Saved += 0.5; // Example CO2 saving
      document.getElementById('reconsideredCount').textContent = reconsideredCount;
      document.getElementById('moneySaved').textContent = `$${moneySaved}`;
      document.getElementById('co2Saved').textContent = `${co2Saved} kg`;
      document.getElementById('confirmationOverlay').style.display = 'none';
    });

    document.getElementById('confirmNo').addEventListener('click', function() {
      document.getElementById('confirmationOverlay').style.display = 'none';
    });

    // Trigger confirmation popup when clicking on purchase button
    function showConfirmation() {
      document.getElementById('confirmationOverlay').style.display = 'flex';
    }
  </script>
</body>
</html>
